

num_epoch = 10;
accuracies = zeros(1, num_epoch);

for i = 1:num_epoch
    [train_image_paths, ...
                            test_image_paths, ...
                            train_labels, ...
                            test_labels, ...
                            categories, ...
                            abbr_categories, ...
                            predicted_categories] = epoch(i);

    num_categories = length(categories);
    [accuracy, confusion_matrix] = create_confusion_matrix(predicted_categories, test_labels, categories, num_categories);
    fprintf('Current Accuracy at epoch %i = %.3f\n', i, accuracy)
    accuracies(i) = accuracy;
end

% Fixed 100 images per category set
% 0.796

% Random 50 images per categories:
% 0.7733    0.7733    0.7747    0.7720    0.7547    0.7707    0.7720    0.7613    0.7733    0.7733

% Gist and Fisher
% 0.7640    0.7640    0.7600    0.7640    0.7573    0.7520    0.7627    0.7747    0.7667    0.7627
create_results_webpage( train_image_paths, ...
                        test_image_paths, ...
                        train_labels, ...
                        test_labels, ...
                        categories, ...
                        abbr_categories, ...
                        predicted_categories)